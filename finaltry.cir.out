* c:\users\kesav\esim-workspace\finaltry\finaltry.cir

.include lm_741.sub
.include INVCMOS.sub
.include PMOS-180nm.lib
.include NMOS-180nm.lib
m2 sample net-_m2-pad2_ input input CMOSP W=9u L=3u M=1
m1 input net-_m1-pad2_ sample sample CMOSN W=9u L=3u M=1
x1 net-_m1-pad2_ net-_m2-pad2_ INVCMOS
v1  input gnd sine(0 3.3 10 0 0)
v2  net-_m1-pad2_ gnd pulse(-3.3 3.3 0 0.0000001 0.000009 0.0005 0.001)
c1  sample gnd .1u
x2 ? net-_r1-pad2_ out1 net-_x2-pad4_ ? comp net-_x2-pad7_ ? lm_741
v4  net-_x2-pad7_ gnd 5
v5  gnd net-_x2-pad4_ 5
r2  comp gnd 1k
r1  sample net-_r1-pad2_ 1k
* u2  sample plot_v1
* u1  input plot_v1
* u3  comp plot_v1
r11  net-_r10-pad1_ net-_r11-pad2_ 2k
r7  net-_r5-pad1_ net-_r7-pad2_ 1k
r9  net-_r7-pad2_ net-_r10-pad1_ 1k
r10  net-_r10-pad1_ d3 2k
r8  net-_r7-pad2_ d2 2k
r6  net-_r5-pad1_ d1 2k
r4  net-_r3-pad1_ d0 2k
r5  net-_r5-pad1_ net-_r3-pad1_ 1k
r3  net-_r3-pad1_ gnd 2k
r13  out1 gnd 10k
x3 net-_x3-pad1_ net-_r11-pad2_ gnd ? net-_x3-pad1_ out1 net-_x2-pad7_ ? lm_741
r12  net-_r11-pad2_ out1 3k
* u4  out1 plot_v1
* u8  d3 plot_v1
* u7  d2 plot_v1
* u6  d1 plot_v1
* u5  d0 plot_v1
v3 net-_u9-pad1_ gnd  dc 5
* u9  net-_u9-pad1_ gnd net-_m1-pad2_ comp net-_u11-pad3_ net-_u11-pad1_ net-_u11-pad2_ net-_u12-pad1_ adc_bridge_4
* u12  net-_u12-pad1_ d2 net-_u11-pad5_ gnd d3 ? d_dff
* u14  net-_u12-pad1_ d1 net-_u13-pad5_ gnd d2 ? d_dff
* u16  net-_u12-pad1_ d0 net-_u15-pad5_ gnd d1 ? d_dff
* u18  net-_u12-pad1_ net-_u18-pad2_ net-_u17-pad5_ gnd d0 ? d_dff
* u20  net-_u11-pad1_ net-_u11-pad1_ net-_u19-pad5_ gnd net-_u18-pad2_ ? d_dff
* u19  net-_u17-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u19-pad5_ ? d_dff
* u17  net-_u15-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u17-pad5_ ? d_dff
* u15  net-_u13-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u15-pad5_ ? d_dff
* u13  net-_u11-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u13-pad5_ ? d_dff
* u11  net-_u11-pad1_ net-_u11-pad2_ net-_u11-pad3_ gnd net-_u11-pad5_ ? d_dff
a1 [net-_u9-pad1_ gnd net-_m1-pad2_ comp ] [net-_u11-pad3_ net-_u11-pad1_ net-_u11-pad2_ net-_u12-pad1_ ] u9
a2 net-_u12-pad1_ d2 net-_u11-pad5_ gnd d3 ? u12
a3 net-_u12-pad1_ d1 net-_u13-pad5_ gnd d2 ? u14
a4 net-_u12-pad1_ d0 net-_u15-pad5_ gnd d1 ? u16
a5 net-_u12-pad1_ net-_u18-pad2_ net-_u17-pad5_ gnd d0 ? u18
a6 net-_u11-pad1_ net-_u11-pad1_ net-_u19-pad5_ gnd net-_u18-pad2_ ? u20
a7 net-_u17-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u19-pad5_ ? u19
a8 net-_u15-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u17-pad5_ ? u17
a9 net-_u13-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u15-pad5_ ? u15
a10 net-_u11-pad5_ net-_u11-pad2_ gnd net-_u11-pad3_ net-_u13-pad5_ ? u13
a11 net-_u11-pad1_ net-_u11-pad2_ net-_u11-pad3_ gnd net-_u11-pad5_ ? u11
* Schematic Name:                             adc_bridge_4, NgSpice Name: adc_bridge
.model u9 adc_bridge(in_high=2.0 in_low=1.0 fall_delay=1.0e-9 rise_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u12 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u14 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u16 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u18 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u20 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u19 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u17 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u15 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u13 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
* Schematic Name:                             d_dff, NgSpice Name: d_dff
.model u11 d_dff(clk_load=1.0e-12 rise_delay=1.0e-9 reset_load=1.0e-12 set_load=1.0e-12 set_delay=1.0e-9 ic=0 data_load=1.0e-12 fall_delay=1.0e-9 reset_delay=1.0 clk_delay=1.0e-9 ) 
.tran 1e-03 300e-03 0e-00

* Control Statements 
.control
run
print allv > plot_data_v.txt
print alli > plot_data_i.txt
plot v(sample)
plot v(input)
plot v(comp)
plot v(out1)
plot v(d3)
plot v(d2)
plot v(d1)
plot v(d0)
.endc
.end
